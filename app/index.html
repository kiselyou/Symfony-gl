<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Iron War</title>
    <link rel="icon" type="image/x-icon" href="/iron-war.ico" />

    <!--<link href="css/bootstrap.css" rel="stylesheet" />-->
    <!--<link href="css/theme-galaxy.css" rel="stylesheet" />-->

    <!--build:css /css/theme.min.css -->
    <link href="/css/theme-iron-war.css" rel="stylesheet" />
    <!-- endbuild -->

</head>
<body>



    <!--build:js /js/iw.min.js -->

    <script type="application/javascript" src="/js/three.js"></script>
    <script type="application/javascript" src="/js/sheders/SPE.js"></script>

    <script type="application/javascript" src="/js/core/Ajax.js"></script>
    <script type="application/javascript" src="/js/core/Templates.js"></script>
    <script type="application/javascript" src="/js/core/FullScreen.js"></script>
    <script type="application/javascript" src="/js/core/Validation.js"></script>

    <script type="application/javascript" src="/js/ui/ProgressBar.js"></script>

    <script type="application/javascript" src="/js/socket/SocketControls.js"></script>

    <script type="application/javascript" src="/js/collision/Collision.js"></script>

    <script type="application/javascript" src="/js/explosion/ExplosionOptions.js"></script>
    <script type="application/javascript" src="/js/explosion/Explosion.js"></script>

    <script type="application/javascript" src="/js/panel/PanelMap.js"></script>
    <script type="application/javascript" src="/js/panel/PanelAction.js"></script>
    <script type="application/javascript" src="/js/panel/PanelControls.js"></script>

    <script type="application/javascript" src="/js/label/Labels.js"></script>
    <script type="application/javascript" src="/js/label/LabelControls.js"></script>

    <script type="application/javascript" src="/js/loaders/MultiLoader.js"></script>
    <script type="application/javascript" src="/js/loaders/OBJLoader.js"></script>
    <script type="application/javascript" src="/js/loaders/MTLLoader.js"></script>

    <script type="application/javascript" src="/js/model/ModelParameters.js"></script>
    <script type="application/javascript" src="/js/model/ModelShot.js"></script>
    <script type="application/javascript" src="/js/model/ModelFly.js"></script>
    <script type="application/javascript" src="/js/model/animation/Explorer.js"></script>
    <script type="application/javascript" src="/js/model/animation/AnimationControls.js"></script>
    <script type="application/javascript" src="/js/model/Model.js"></script>

    <script type="application/javascript" src="/js/controls/OrbitControls.js"></script>

    <script type="application/javascript" src="/js/controller/Prepare.js"></script>
    <script type="application/javascript" src="/js/controller/Player.js"></script>
    <script type="application/javascript" src="/js/controller/SkyBox.js"></script>
    <script type="application/javascript" src="/js/controller/Scene.js"></script>
    <!-- endbuild -->

    <script type="application/javascript" src="/js/socket.io.js"></script>
    <script>
        var socket = io.connect('http://localhost:3000/news');
        var clientID = null;
        // Подписался
        socket.on('connected', function (data) {

            clientID = data.id;

            console.log(clientID, data);

            // Отправляем запрос на сервер для получения информации - принимаем ответ в "only-sender"
            socket.emit('action-only-sender', { my: 'data' });

            // Отправляем информацию всем кроме себя - принимаем ответ в "except-sender"
            socket.emit('action-except-sender', { my: 'Привет я в системе', id: clientID });

            // Отправить всем и себе
            socket.emit('action-to-all', { my: 'this message to all and my' });
        });

        socket.on('only-sender', function (data) {
            console.log(data);
        });

        socket.on('except-sender', function (data) {
            console.log(data, data.id);
            socket.emit('action-only-specific', { my: 'A я уже давно в системе', id: data.id });
        });

        socket.on('only-specific', function (data) {
            console.log('Message for specific user', data);
        });

        socket.on('to-all', function (data) {
            console.log('All', data);
        });
    </script>

</body>
</html>
