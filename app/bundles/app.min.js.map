{"version":3,"sources":["node_modules/browser-pack/_prelude.js","app/es6/app/app.bundle.js","app/es6/app/core/Ajax.js","app/es6/app/core/Application.js","app/es6/app/core/Components.js","app/es6/app/core/Lock.js","app/es6/app/core/View.js","node_modules/ejs/lib/ejs.js","node_modules/ejs/lib/utils.js","node_modules/ejs/package.json","node_modules/path-browserify/index.js","node_modules/process/browser.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","default","_ejs2","renderFile","user","name","err","str","console","log","Ajax","_classCallCheck","this","Application","ajax","_Ajax2","lock","_Lock2","view","_View2","Components","_this","_possibleConstructorReturn","__proto__","Object","getPrototypeOf","Lock","View","getIncludePath","path","options","includePath","charAt","resolveInclude","replace","root","filename","handleCache","template","func","hasTemplate","arguments","cache","get","fileLoader","toString","_BOM","compile","set","tryHandleCache","data","cb","result","filePath","includeFile","opts","utils","shallowCopy","includeSource","templ","Template","generateSource","source","rethrow","flnm","lineno","esc","lines","split","start","Math","max","end","min","context","slice","map","line","curr","join","message","stripSemi","text","templateText","mode","truncate","currentLine","dependencies","client","escapeFunction","escape","escapeXML","compileDebug","debug","delimiter","_DEFAULT_DELIMITER","strict","rmWhitespace","localsName","_DEFAULT_LOCALS_NAME","_with","regex","createRegex","fs","scopeOptionWarned","_VERSION_STRING","version","_OPTS","_OPTS_EXPRESS","concat","readFileSync","isDir","dirname","extname","resolve","scope","warn","render","d","shallowCopyFromList","settings","clearCache","reset","modes","EVAL","ESCAPED","RAW","COMMENT","LITERAL","prototype","delim","escapeRegExpChars","RegExp","src","fn","prepended","appended","escapeFn","JSON","stringify","Function","SyntaxError","returnedFn","apply","includeData","self","matches","parseTemplateText","forEach","index","opening","closing","include","includeOpts","includeObj","includeSrc","indexOf","match","push","scanLine","firstPos","pat","exec","arr","substring","_addOutput","newLineCount","lastIndexOf","__express","extensions","_compile","VERSION","window","ejs","encode_char","c","_ENCODE_HTML_RULES","regExpChars","string","String","&","<",">","\"","'","_MATCH_HTML","markup","undefined","to","from","p","list","_data","key","val","_from","_id","_inBundle","_integrity","_location","_phantomChildren","_requested","type","registry","raw","escapedName","rawSpec","saveSpec","fetchSpec","_requiredBy","_resolved","_shasum","_spec","_where","author","email","url","bugs","bundleDependencies","contributors","deprecated","description","devDependencies","browserify","eslint","git-directory-deploy","istanbul","jake","jsdoc","lru-cache","mocha","uglify-js","engines","node","homepage","keywords","license","main","repository","scripts","coverage","devdoc","doc","lint","test","normalizeArray","parts","allowAboveRoot","up","last","splice","unshift","filter","xs","res","splitPathRe","splitPath","resolvedPath","resolvedAbsolute","process","cwd","TypeError","normalize","isAbsolute","trailingSlash","substr","paths","Array","relative","trim","fromParts","toParts","samePartsLength","outputParts","sep","dir","basename","ext","len","defaultSetTimout","defaultClearTimeout","runTimeout","fun","cachedSetTimeout","setTimeout","runClearTimeout","marker","cachedClearTimeout","clearTimeout","cleanUpNextTick","draining","currentQueue","queue","queueIndex","drainQueue","timeout","run","Item","array","noop","nextTick","args","title","browser","env","argv","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","chdir","umask"],"mappings":"CAAA,SAAAA,EAAAC,EAAAC,EAAAC,GAAA,SAAAC,EAAAC,EAAAC,GAAA,IAAAJ,EAAAG,GAAA,CAAA,IAAAJ,EAAAI,GAAA,CAAA,IAAAE,EAAA,mBAAAC,SAAAA,QAAA,IAAAF,GAAAC,EAAA,OAAAA,EAAAF,GAAA,GAAA,GAAAI,EAAA,OAAAA,EAAAJ,GAAA,GAAA,IAAAK,EAAA,IAAAC,MAAA,uBAAAN,EAAA,KAAA,MAAAK,EAAAE,KAAA,mBAAAF,EAAA,IAAAG,EAAAX,EAAAG,IAAAS,YAAAb,EAAAI,GAAA,GAAAU,KAAAF,EAAAC,QAAA,SAAAd,GAAA,IAAAE,EAAAD,EAAAI,GAAA,GAAAL,GAAA,OAAAI,EAAAF,GAAAF,IAAAa,EAAAA,EAAAC,QAAAd,EAAAC,EAAAC,EAAAC,GAAA,OAAAD,EAAAG,GAAAS,QAAA,IAAA,IAAAL,EAAA,mBAAAD,SAAAA,QAAAH,EAAA,EAAAA,EAAAF,EAAAa,OAAAX,IAAAD,EAAAD,EAAAE,IAAA,OAAAD,IAAAa,GAAA,SAAAT,EAAAU,EAAAJ,mECGA,QAAAN,EAAA,QAGQ,MAFRA,EAAA,sBAEQW,SAyBJC,EAAAD,QAAIE,WAAW,kBAAmBC,MAAOC,KAAM,SAAUA,KAAM,SAAU,SAACC,EAAKC,GAC3EC,QAAQC,IAAIH,EAAKC,8NC7BrB,SAAAG,IAAcC,EAAAC,KAAAF,GACVF,QAAQC,IAAI,gPCHpB,QAAAnB,EAAA,eACAA,EAAA,eACAA,EAAA,qBAGI,SAAAuB,IAAcF,EAAAC,KAAAC,GACVL,QAAQC,IAAI,eAMZG,KAAKE,KAAO,IAAAC,EAAAd,QAMZW,KAAKI,KAAO,IAAAC,EAAAhB,QAMZW,KAAKM,KAAO,IAAAC,EAAAlB,2rBCxBpB,wDAAAX,EAAA,kBAEM8B,cACF,SAAAA,IAAcT,EAAAC,KAAAQ,GAAA,IAAAC,EAAAC,EAAAV,MAAAQ,EAAAG,WAAAC,OAAAC,eAAAL,IAAAvB,KAAAe,OAAA,OAEVJ,QAAQC,IAAI,cAFFY,uCAMHD,iNCRX,SAAAM,IAAcf,EAAAC,KAAAc,GACVlB,QAAQC,IAAI,uMCDhB,SAAAkB,IAAchB,EAAAC,KAAAe,GACVnB,QAAQC,IAAI,0DCepB,aAyGA,SAAAmB,EAAAC,EAAAC,GACA,IAAAC,EACA,GAAA,KAAAF,EAAAG,OAAA,GACAD,EAAAnC,EAAAqC,eAAAJ,EAAAK,QAAA,OAAA,IAAAJ,EAAAK,MAAA,KAAA,OAEA,CACA,IAAAL,EAAAM,SACA,MAAA,IAAA3C,MAAA,+DAEAsC,EAAAnC,EAAAqC,eAAAJ,EAAAC,EAAAM,UAEA,OAAAL,EAqBA,SAAAM,EAAAP,EAAAQ,GACA,IAAAC,EACAH,EAAAN,EAAAM,SACAI,EAAAC,UAAA3C,OAAA,EAEA,GAAAgC,EAAAY,MAAA,CACA,IAAAN,EACA,MAAA,IAAA3C,MAAA,oCAGA,GADA8C,EAAA3C,EAAA8C,MAAAC,IAAAP,GAEA,OAAAG,EAEAC,IACAF,EAAAM,EAAAR,GAAAS,WAAAX,QAAAY,EAAA,UAGA,IAAAN,EAAA,CAEA,IAAAJ,EACA,MAAA,IAAA3C,MAAA,yDAGA6C,EAAAM,EAAAR,GAAAS,WAAAX,QAAAY,EAAA,IAMA,OAJAP,EAAA3C,EAAAmD,QAAAT,EAAAR,GACAA,EAAAY,OACA9C,EAAA8C,MAAAM,IAAAZ,EAAAG,GAEAA,EAeA,SAAAU,EAAAnB,EAAAoB,EAAAC,GACA,IAAAC,EACA,IACAA,EAAAf,EAAAP,GAAAoB,GAEA,MAAA5C,GACA,OAAA6C,EAAA7C,GAEA,OAAA6C,EAAA,KAAAC,GAWA,SAAAR,EAAAS,GACA,OAAAzD,EAAAgD,WAAAS,GAgBA,SAAAC,EAAAzB,EAAAC,GACA,IAAAyB,EAAAC,EAAAC,eAAA3B,GAEA,OADAyB,EAAAnB,SAAAR,EAAAC,EAAA0B,GACAlB,EAAAkB,GAaA,SAAAG,EAAA7B,EAAAC,GACA,IACAC,EACAO,EAFAiB,EAAAC,EAAAC,eAAA3B,GAIAQ,EAAAM,EADAb,EAAAH,EAAAC,EAAA0B,IACAV,WAAAX,QAAAY,EAAA,IACAS,EAAAnB,SAAAL,EACA,IAAA4B,EAAA,IAAAC,EAAAtB,EAAAiB,GAEA,OADAI,EAAAE,kBAEAC,OAAAH,EAAAG,OACA1B,SAAAL,EACAO,SAAAA,GAiBA,SAAAyB,EAAAzD,EAAAC,EAAAyD,EAAAC,EAAAC,GACA,IAAAC,EAAA5D,EAAA6D,MAAA,MACAC,EAAAC,KAAAC,IAAAN,EAAA,EAAA,GACAO,EAAAF,KAAAG,IAAAN,EAAArE,OAAAmE,EAAA,GACA7B,EAAA8B,EAAAF,GAEAU,EAAAP,EAAAQ,MAAAN,EAAAG,GAAAI,IAAA,SAAAC,EAAAtF,GACA,IAAAuF,EAAAvF,EAAA8E,EAAA,EACA,OAAAS,GAAAb,EAAA,OAAA,QACAa,EACA,KACAD,IACAE,KAAA,MASA,MANAzE,EAAAuB,KAAAO,EACA9B,EAAA0E,SAAA5C,GAAA,OAAA,IACA6B,EAAA,KACAS,EAAA,OACApE,EAAA0E,QAEA1E,EAGA,SAAA2E,EAAA1E,GACA,OAAAA,EAAA2B,QAAA,UAAA,MAsHA,SAAA0B,EAAAsB,EAAA3B,GACAA,EAAAA,MACA,IAAAzB,KACAlB,KAAAuE,aAAAD,EACAtE,KAAAwE,KAAA,KACAxE,KAAAyE,UAAA,EACAzE,KAAA0E,YAAA,EACA1E,KAAAkD,OAAA,GACAlD,KAAA2E,gBACAzD,EAAA0D,OAAAjC,EAAAiC,SAAA,EACA1D,EAAA2D,eAAAlC,EAAAmC,QAAAlC,EAAAmC,UACA7D,EAAA8D,cAAA,IAAArC,EAAAqC,aACA9D,EAAA+D,QAAAtC,EAAAsC,MACA/D,EAAAM,SAAAmB,EAAAnB,SACAN,EAAAgE,UAAAvC,EAAAuC,WAAAlG,EAAAkG,WAAAC,EACAjE,EAAAkE,OAAAzC,EAAAyC,SAAA,EACAlE,EAAA4C,QAAAnB,EAAAmB,QACA5C,EAAAY,MAAAa,EAAAb,QAAA,EACAZ,EAAAmE,aAAA1C,EAAA0C,aACAnE,EAAAK,KAAAoB,EAAApB,KACAL,EAAAoE,WAAA3C,EAAA2C,YAAAtG,EAAAsG,YAAAC,EAEArE,EAAAkE,OACAlE,EAAAsE,OAAA,EAGAtE,EAAAsE,WAAA,IAAA7C,EAAA6C,OAAA7C,EAAA6C,MAGAxF,KAAA2C,KAAAzB,EAEAlB,KAAAyF,MAAAzF,KAAA0F,cAxZA,IAAAC,EAAAjH,EAAA,MACAuC,EAAAvC,EAAA,QACAkE,EAAAlE,EAAA,WAEAkH,GAAA,EACAC,EAAAnH,EAAA,mBAAAoH,QACAX,EAAA,IACAI,EAAA,SAGAQ,GAAA,YAAA,QAAA,UAAA,QAAA,eACA,SAAA,QAAA,eAAA,SAAA,YAIAC,EAAAD,EAAAE,OAAA,SACA/D,EAAA,UAUAlD,EAAA8C,MAAAc,EAAAd,MASA9C,EAAAgD,WAAA2D,EAAAO,aAYAlH,EAAAsG,WAAAC,EAWAvG,EAAAqC,eAAA,SAAA5B,EAAA+B,EAAA2E,GACA,IAAAC,EAAAnF,EAAAmF,QACAC,EAAApF,EAAAoF,QAEAlF,GAAAmF,EADArF,EAAAqF,SACAH,EAAA3E,EAAA4E,EAAA5E,GAAA/B,GAKA,OAJA4G,EAAA5G,KAEA0B,GAAA,QAEAA,GA+MAnC,EAAAmD,QAAA,SAAAT,EAAAiB,GAiBA,OAXAA,GAAAA,EAAA4D,QACAX,IACAhG,QAAA4G,KAAA,6DACAZ,GAAA,GAEAjD,EAAAmB,UACAnB,EAAAmB,QAAAnB,EAAA4D,cAEA5D,EAAA4D,OAEA,IAAAvD,EAAAtB,EAAAiB,GACAR,WAgBAnD,EAAAyH,OAAA,SAAA/E,EAAAgF,EAAAnI,GACA,IAAA+D,EAAAoE,MACA/D,EAAApE,MAQA,OAJA,GAAAsD,UAAA3C,QACA0D,EAAA+D,oBAAAhE,EAAAL,EAAAyD,GAGAtE,EAAAkB,EAAAjB,GAAAY,IAgBAtD,EAAAO,WAAA,WACA,IAGA+C,EAHAd,EAAAK,UAAA,GACAU,EAAAV,UAAAA,UAAA3C,OAAA,GACAyD,GAAAnB,SAAAA,GA6BA,OA1BAK,UAAA3C,OAAA,GACAoD,EAAAT,UAAA,GAIA,IAAAA,UAAA3C,OAEAoD,EAAAsE,UAAAtE,EAAAsE,SAAA,gBACAhE,EAAA+D,oBAAAhE,EAAAL,EAAAsE,SAAA,gBAAAZ,GAIApD,EAAA+D,oBAAAhE,EAAAL,EAAA0D,GAKApD,EAAAC,YAAAF,EAAAd,UAAA,IAGAc,EAAAnB,SAAAA,GAGAc,KAGAD,EAAAM,EAAAL,EAAAC,IAQAvD,EAAA6H,WAAA,WACA7H,EAAA8C,MAAAgF,SAqCA9D,EAAA+D,OACAC,KAAA,OACAC,QAAA,UACAC,IAAA,MACAC,QAAA,UACAC,QAAA,WAGApE,EAAAqE,WACA3B,YAAA,WACA,IAAA/F,EA5ZA,0CA6ZA2H,EAAA1E,EAAA2E,kBAAAvH,KAAA2C,KAAAuC,WAEA,OADAvF,EAAAA,EAAA2B,QAAA,KAAAgG,GACA,IAAAE,OAAA7H,IAGAwC,QAAA,WACA,IAAAsF,EACAC,EACA/E,EAAA3C,KAAA2C,KACAgF,EAAA,GACAC,EAAA,GACAC,EAAAlF,EAAAkC,eAEA7E,KAAAkD,SACAlD,KAAAiD,iBACA0E,GAAA,mEACA,IAAAhF,EAAA6C,QACAmC,GAAA,WAAAhF,EAAA2C,WAAA,cACAsC,GAAA,SAEAA,GAAA,gCACA5H,KAAAkD,OAAAyE,EAAA3H,KAAAkD,OAAA0E,GAIAH,EADA9E,EAAAqC,aACA,iCACA8C,KAAAC,UAAA/H,KAAAuE,cAAA,uBACA5B,EAAAnB,SACAsG,KAAAC,UAAApF,EAAAnB,UAAA,aAAA,aAEAxB,KAAAkD,OACA,2EAKAlD,KAAAkD,OAGAP,EAAAsC,OACArF,QAAAC,IAAA4H,GAGA9E,EAAAiC,SACA6C,EAAA,0BAAAI,EAAA5F,WAAA,MAAAwF,EACA9E,EAAAqC,eACAyC,EAAA,wBAAAtE,EAAAlB,WAAA,MAAAwF,IAIA9E,EAAAyC,SACAqC,EAAA,kBAAAA,GAGA,IACAC,EAAA,IAAAM,SAAArF,EAAA2C,WAAA,+BAAAmC,GAEA,MAAAvJ,GAUA,MARAA,aAAA+J,cACAtF,EAAAnB,WACAtD,EAAAkG,SAAA,OAAAzB,EAAAnB,UAEAtD,EAAAkG,SAAA,2BACAlG,EAAAkG,SAAA,qEACAlG,EAAAkG,SAAA,uCAEAlG,EAGA,GAAAyE,EAAAiC,OAEA,OADA8C,EAAA/C,aAAA3E,KAAA2E,aACA+C,EAMA,IAAAQ,EAAA,SAAA5F,GAQA,OAAAoF,EAAAS,MAAAxF,EAAAmB,SAAAxB,MAAAuF,EAPA,SAAA5G,EAAAmH,GACA,IAAA1B,EAAA9D,EAAAC,eAAAP,GAIA,OAHA8F,IACA1B,EAAA9D,EAAAC,YAAA6D,EAAA0B,IAEA1F,EAAAzB,EAAA0B,GAAA+D,IAEAvD,KAGA,OADA+E,EAAAvD,aAAA3E,KAAA2E,aACAuD,GAGAjF,eAAA,WACAjD,KAAA2C,KAEA0C,eAGArF,KAAAuE,aACAvE,KAAAuE,aAAAjD,QAAA,MAAA,IAAAA,QAAA,cAAA,KAIAtB,KAAAuE,aACAvE,KAAAuE,aAAAjD,QAAA,cAAA,OAAAA,QAAA,cAAA,OAEA,IAAA+G,EAAArI,KACAsI,EAAAtI,KAAAuI,oBACA7B,EAAA1G,KAAA2C,KAAAuC,UAEAoD,GAAAA,EAAApJ,QACAoJ,EAAAE,QAAA,SAAAvE,EAAAwE,GACA,IAAAC,EACAC,EACAC,EACAC,EACAC,EACAC,EAKA,GAAA,IAAA9E,EAAA+E,QAAA,IAAAtC,IACA,IAAAzC,EAAA+E,QAAA,IAAAtC,EAAAA,KACAiC,EAAAL,EAAAG,EAAA,KACA/B,EAAA,KAAAiC,GAAA,IAAAjC,EAAA,KAAAiC,GAAA,IAAAjC,EAAA,IACA,MAAA,IAAA7H,MAAA,0CAAAoF,EAAA,MAIA,IAAA2E,EAAA3E,EAAAgF,MAAA,0BACAP,EAAAJ,EAAAG,EAAA,MAEAC,GAAA,IAAAhC,GAAAgC,GAAA,IAAAhC,EAAA,KAAAgC,GAAA,IAAAhC,EAAA,KAsBA,OArBAmC,EAAAjG,EAAAC,eAAAwF,EAAA1F,MACAmG,EAAAhG,EAAA8F,EAAA,GAAAC,GAEAE,EADAV,EAAA1F,KAAAqC,aAEA,+DAEA8C,KAAAC,UAAAe,EAAApH,UAAA,0BACAoG,KAAAC,UAAAe,EAAAtH,UAAA,mBAEAsH,EAAA5F,OACA,wGAKA,uBAAA4F,EAAA5F,OACA,wBAEAmF,EAAAnF,QAAA6F,OACAV,EAAA1D,aAAAuE,KAAAlK,EAAAqC,eAAAuH,EAAA,GACAC,EAAArH,WAIA6G,EAAAc,SAAAlF,MAMAsE,kBAAA,WAOA,IANA,IAIAa,EAJAzJ,EAAAK,KAAAuE,aACA8E,EAAArJ,KAAAyF,MACAjD,EAAA6G,EAAAC,KAAA3J,GACA4J,KAGA/G,GAGA,KAFA4G,EAAA5G,EAAAiG,SAGAc,EAAAL,KAAAvJ,EAAA6J,UAAA,EAAAJ,IACAzJ,EAAAA,EAAAoE,MAAAqF,IAGAG,EAAAL,KAAA1G,EAAA,IACA7C,EAAAA,EAAAoE,MAAAvB,EAAA,GAAAtD,QACAsD,EAAA6G,EAAAC,KAAA3J,GAOA,OAJAA,GACA4J,EAAAL,KAAAvJ,GAGA4J,GAGAJ,SAAA,SAAAlF,GAKA,SAAAwF,IACApB,EAAA5D,UAMAR,EAAAA,EAAA3C,QAAA,kBAAA,IACA+G,EAAA5D,UAAA,GAEA4D,EAAA1F,KAAA0C,eAGApB,EAAAA,EAAA3C,QAAA,MAAA,KAEA2C,IAKAA,EAAAA,EAAA3C,QAAA,MAAA,QAGA2C,EAAAA,EAAA3C,QAAA,MAAA,OACA2C,EAAAA,EAAA3C,QAAA,MAAA,OAIA2C,EAAAA,EAAA3C,QAAA,KAAA,OACA+G,EAAAnF,QAAA,mBAAAe,EAAA,QAjCA,IAAAoE,EAAArI,KACA0G,EAAA1G,KAAA2C,KAAAuC,UACAwE,EAAA,EAoCA,OAFAA,EAAAzF,EAAAT,MAAA,MAAAtE,OAAA,EAEA+E,GACA,IAAA,IAAAyC,EACA,IAAA,IAAAA,EAAA,IACA1G,KAAAwE,KAAAxB,EAAA+D,MAAAC,KACA,MACA,IAAA,IAAAN,EAAA,IACA1G,KAAAwE,KAAAxB,EAAA+D,MAAAE,QACA,MACA,IAAA,IAAAP,EAAA,IACA1G,KAAAwE,KAAAxB,EAAA+D,MAAAG,IACA,MACA,IAAA,IAAAR,EAAA,IACA1G,KAAAwE,KAAAxB,EAAA+D,MAAAI,QACA,MACA,IAAA,IAAAT,EAAAA,EACA1G,KAAAwE,KAAAxB,EAAA+D,MAAAK,QACApH,KAAAkD,QAAA,mBAAAe,EAAA3C,QAAA,IAAAoF,EAAAA,EAAA,IAAAA,GAAA,OACA,MACA,KAAAA,EAAAA,EAAA,IACA1G,KAAAwE,KAAAxB,EAAA+D,MAAAK,QACApH,KAAAkD,QAAA,mBAAAe,EAAA3C,QAAAoF,EAAAA,EAAA,IAAAA,EAAA,KAAA,OACA,MACA,KAAAA,EAAA,IACA,IAAA,IAAAA,EAAA,IACA,IAAA,IAAAA,EAAA,IACA1G,KAAAwE,MAAAxB,EAAA+D,MAAAK,SACAqC,IAGAzJ,KAAAwE,KAAA,KACAxE,KAAAyE,SAAA,IAAAR,EAAA+E,QAAA,MAAA,IAAA/E,EAAA+E,QAAA,KACA,MACA,QAEA,GAAAhJ,KAAAwE,KAAA,CAEA,OAAAxE,KAAAwE,MACA,KAAAxB,EAAA+D,MAAAC,KACA,KAAAhE,EAAA+D,MAAAE,QACA,KAAAjE,EAAA+D,MAAAG,IACAjD,EAAA0F,YAAA,MAAA1F,EAAA0F,YAAA,QACA1F,GAAA,MAGA,OAAAjE,KAAAwE,MAEA,KAAAxB,EAAA+D,MAAAC,KACAhH,KAAAkD,QAAA,SAAAe,EAAA,KACA,MAEA,KAAAjB,EAAA+D,MAAAE,QACAjH,KAAAkD,QAAA,2BAAAmB,EAAAJ,GAAA,OACA,MAEA,KAAAjB,EAAA+D,MAAAG,IACAlH,KAAAkD,QAAA,kBAAAmB,EAAAJ,GAAA,MACA,MACA,KAAAjB,EAAA+D,MAAAI,QAEA,MAEA,KAAAnE,EAAA+D,MAAAK,QACAqC,UAMAA,IAIApB,EAAA1F,KAAAqC,cAAA0E,IACA1J,KAAA0E,aAAAgF,EACA1J,KAAAkD,QAAA,kBAAAlD,KAAA0E,YAAA,QAiBA1F,EAAA+F,UAAAnC,EAAAmC,UAWA/F,EAAA4K,UAAA5K,EAAAO,WAIAb,EAAAmL,aACAnL,EAAAmL,WAAA,QAAA,SAAAzK,EAAAgE,GACA,IAAA5B,EAAA4B,GAAAhE,EAAAoC,SACAN,GACAM,SAAAA,EACAoD,QAAA,GAEAlD,EAAAM,EAAAR,GAAAS,WACAyF,EAAA1I,EAAAmD,QAAAT,EAAAR,GACA9B,EAAA0K,SAAA,oBAAApC,EAAAzF,WAAA,IAAAT,KAYAxC,EAAA+K,QAAAlE,EAUA7G,EAAAS,KA7wBA,MAgxBA,oBAAAuK,SACAA,OAAAC,IAAAjL,wEC/yBA,aA+BA,SAAAkL,EAAAC,GACA,OAAAC,EAAAD,IAAAA,EA9BA,IAAAE,EAAA,sBAYArL,EAAAuI,kBAAA,SAAA+C,GAEA,OAAAA,EAGAC,OAAAD,GAAAhJ,QAAA+I,EAAA,QAFA,IAKA,IAAAD,GACAI,IAAA,QACAC,IAAA,OACAC,IAAA,OACAC,IAAA,QACAC,IAAA,SAEAC,EAAA,YAwCA7L,EAAA+F,UAAA,SAAA+F,GACA,YAAAC,GAAAD,EACA,GACAP,OAAAO,GACAxJ,QAAAuJ,EAAAX,IAEAlL,EAAA+F,UAAA9C,SAAA,WACA,OAAA+F,SAAAX,UAAApF,SAAAhD,KAAAe,MAAA,oPAcAhB,EAAA6D,YAAA,SAAAmI,EAAAC,GACAA,EAAAA,MACA,IAAA,IAAAC,KAAAD,EACAD,EAAAE,GAAAD,EAAAC,GAEA,OAAAF,GAeAhM,EAAA2H,oBAAA,SAAAqE,EAAAC,EAAAE,GACA,IAAA,IAAAxM,EAAA,EAAAA,EAAAwM,EAAAjM,OAAAP,IAAA,CACA,IAAAuM,EAAAC,EAAAxM,QACA,IAAAsM,EAAAC,KACAF,EAAAE,GAAAD,EAAAC,IAGA,OAAAF,GAWAhM,EAAA8C,OACAsJ,SACAhJ,IAAA,SAAAiJ,EAAAC,GACAtL,KAAAoL,MAAAC,GAAAC,GAEAvJ,IAAA,SAAAsJ,GACA,OAAArL,KAAAoL,MAAAC,IAEAvE,MAAA,WACA9G,KAAAoL,oCCjKAhM,EAAAJ,SACAuM,MAAA,MACAC,IAAA,YACAC,WAAA,EACAC,WAAA,oCACAC,UAAA,OACAC,oBACAC,YACAC,KAAA,MACAC,UAAA,EACAC,IAAA,MACAvM,KAAA,MACAwM,YAAA,MACAC,QAAA,GACAC,SAAA,KACAC,UAAA,UAEAC,aACA,QACA,KAEAC,UAAA,iDACAC,QAAA,2CACAC,MAAA,MACAC,OAAA,kBACAC,QACAjN,KAAA,mBACAkN,MAAA,kBACAC,IAAA,sBAEAC,MACAD,IAAA,qCAEAE,oBAAA,EACAC,eAEAtN,KAAA,aACAkN,MAAA,wBACAC,IAAA,gCAGAjI,gBACAqI,YAAA,EACAC,YAAA,gCACAC,iBACAC,WAAA,UACAC,OAAA,SACAC,uBAAA,SACAC,SAAA,SACAC,KAAA,SACAC,MAAA,SACAC,YAAA,SACAC,MAAA,SACAC,YAAA,UAEAC,SACAC,KAAA,YAEAC,SAAA,6BACAC,UACA,WACA,SACA,OAEAC,QAAA,aACAC,KAAA,eACAxO,KAAA,MACAyO,YACApC,KAAA,MACAc,IAAA,gCAEAuB,SACAC,SAAA,+CACAC,OAAA,gBACAC,IAAA,WACAC,KAAA,4BACAC,KAAA,SAEA1I,QAAA,+CCrDA,SAAA2I,EAAAC,EAAAC,GAGA,IAAA,IADAC,EAAA,EACAjQ,EAAA+P,EAAAxP,OAAA,EAAAP,GAAA,EAAAA,IAAA,CACA,IAAAkQ,EAAAH,EAAA/P,GACA,MAAAkQ,EACAH,EAAAI,OAAAnQ,EAAA,GACA,OAAAkQ,GACAH,EAAAI,OAAAnQ,EAAA,GACAiQ,KACAA,IACAF,EAAAI,OAAAnQ,EAAA,GACAiQ,KAKA,GAAAD,EACA,KAAAC,IAAAA,EACAF,EAAAK,QAAA,MAIA,OAAAL,EA+JA,SAAAM,EAAAC,EAAArQ,GACA,GAAAqQ,EAAAD,OAAA,OAAAC,EAAAD,OAAApQ,GAEA,IAAA,IADAsQ,KACAvQ,EAAA,EAAAA,EAAAsQ,EAAA/P,OAAAP,IACAC,EAAAqQ,EAAAtQ,GAAAA,EAAAsQ,IAAAC,EAAAhG,KAAA+F,EAAAtQ,IAEA,OAAAuQ,EAhKA,IAAAC,EACA,gEACAC,EAAA,SAAA5N,GACA,OAAA2N,EAAA7F,KAAA9H,GAAAuC,MAAA,IAKA/E,EAAAsH,QAAA,WAIA,IAAA,IAHA+I,EAAA,GACAC,GAAA,EAEA3Q,EAAAkD,UAAA3C,OAAA,EAAAP,IAAA,IAAA2Q,EAAA3Q,IAAA,CACA,IAAAsC,EAAAtC,GAAA,EAAAkD,UAAAlD,GAAA4Q,EAAAC,MAGA,GAAA,iBAAAvO,EACA,MAAA,IAAAwO,UAAA,6CACAxO,IAIAoO,EAAApO,EAAA,IAAAoO,EACAC,EAAA,MAAArO,EAAAG,OAAA,IAWA,OAJAiO,EAAAZ,EAAAO,EAAAK,EAAA7L,MAAA,KAAA,SAAA0H,GACA,QAAAA,KACAoE,GAAAnL,KAAA,MAEAmL,EAAA,IAAA,IAAAD,GAAA,KAKArQ,EAAA0Q,UAAA,SAAAzO,GACA,IAAA0O,EAAA3Q,EAAA2Q,WAAA1O,GACA2O,EAAA,MAAAC,EAAA5O,GAAA,GAcA,OAXAA,EAAAwN,EAAAO,EAAA/N,EAAAuC,MAAA,KAAA,SAAA0H,GACA,QAAAA,KACAyE,GAAAxL,KAAA,OAEAwL,IACA1O,EAAA,KAEAA,GAAA2O,IACA3O,GAAA,MAGA0O,EAAA,IAAA,IAAA1O,GAIAjC,EAAA2Q,WAAA,SAAA1O,GACA,MAAA,MAAAA,EAAAG,OAAA,IAIApC,EAAAmF,KAAA,WACA,IAAA2L,EAAAC,MAAA1I,UAAAtD,MAAA9E,KAAA4C,UAAA,GACA,OAAA7C,EAAA0Q,UAAAV,EAAAc,EAAA,SAAA5E,EAAAzC,GACA,GAAA,iBAAAyC,EACA,MAAA,IAAAuE,UAAA,0CAEA,OAAAvE,IACA/G,KAAA,OAMAnF,EAAAgR,SAAA,SAAA/E,EAAAD,GAIA,SAAAiF,EAAA1G,GAEA,IADA,IAAA9F,EAAA,EACAA,EAAA8F,EAAArK,QACA,KAAAqK,EAAA9F,GADAA,KAKA,IADA,IAAAG,EAAA2F,EAAArK,OAAA,EACA0E,GAAA,GACA,KAAA2F,EAAA3F,GADAA,KAIA,OAAAH,EAAAG,KACA2F,EAAAxF,MAAAN,EAAAG,EAAAH,EAAA,GAfAwH,EAAAjM,EAAAsH,QAAA2E,GAAA4E,OAAA,GACA7E,EAAAhM,EAAAsH,QAAA0E,GAAA6E,OAAA,GAsBA,IAAA,IALAK,EAAAD,EAAAhF,EAAAzH,MAAA,MACA2M,EAAAF,EAAAjF,EAAAxH,MAAA,MAEAtE,EAAAwE,KAAAG,IAAAqM,EAAAhR,OAAAiR,EAAAjR,QACAkR,EAAAlR,EACAP,EAAA,EAAAA,EAAAO,EAAAP,IACA,GAAAuR,EAAAvR,KAAAwR,EAAAxR,GAAA,CACAyR,EAAAzR,EACA,MAKA,IAAA,IADA0R,KACA1R,EAAAyR,EAAAzR,EAAAuR,EAAAhR,OAAAP,IACA0R,EAAAnH,KAAA,MAKA,OAFAmH,EAAAA,EAAApK,OAAAkK,EAAApM,MAAAqM,KAEAjM,KAAA,MAGAnF,EAAAsR,IAAA,IACAtR,EAAAkG,UAAA,IAEAlG,EAAAoH,QAAA,SAAAnF,GACA,IAAAuB,EAAA4M,EAAAnO,GACAM,EAAAiB,EAAA,GACA+N,EAAA/N,EAAA,GAEA,OAAAjB,GAAAgP,GAKAA,IAEAA,EAAAA,EAAAV,OAAA,EAAAU,EAAArR,OAAA,IAGAqC,EAAAgP,GARA,KAYAvR,EAAAwR,SAAA,SAAAvP,EAAAwP,GACA,IAAA7R,EAAAwQ,EAAAnO,GAAA,GAKA,OAHAwP,GAAA7R,EAAAiR,QAAA,EAAAY,EAAAvR,UAAAuR,IACA7R,EAAAA,EAAAiR,OAAA,EAAAjR,EAAAM,OAAAuR,EAAAvR,SAEAN,GAIAI,EAAAqH,QAAA,SAAApF,GACA,OAAAmO,EAAAnO,GAAA,IAaA,IAAA4O,EAAA,MAAA,KAAAA,QAAA,GACA,SAAAlQ,EAAA8D,EAAAiN,GAAA,OAAA/Q,EAAAkQ,OAAApM,EAAAiN,IACA,SAAA/Q,EAAA8D,EAAAiN,GAEA,OADAjN,EAAA,IAAAA,EAAA9D,EAAAT,OAAAuE,GACA9D,EAAAkQ,OAAApM,EAAAiN,mEClNA,SAAAC,IACA,MAAA,IAAA9R,MAAA,mCAEA,SAAA+R,IACA,MAAA,IAAA/R,MAAA,qCAsBA,SAAAgS,EAAAC,GACA,GAAAC,IAAAC,WAEA,OAAAA,WAAAF,EAAA,GAGA,IAAAC,IAAAJ,IAAAI,IAAAC,WAEA,OADAD,EAAAC,WACAA,WAAAF,EAAA,GAEA,IAEA,OAAAC,EAAAD,EAAA,GACA,MAAA5S,GACA,IAEA,OAAA6S,EAAA9R,KAAA,KAAA6R,EAAA,GACA,MAAA5S,GAEA,OAAA6S,EAAA9R,KAAAe,KAAA8Q,EAAA,KAMA,SAAAG,EAAAC,GACA,GAAAC,IAAAC,aAEA,OAAAA,aAAAF,GAGA,IAAAC,IAAAP,IAAAO,IAAAC,aAEA,OADAD,EAAAC,aACAA,aAAAF,GAEA,IAEA,OAAAC,EAAAD,GACA,MAAAhT,GACA,IAEA,OAAAiT,EAAAlS,KAAA,KAAAiS,GACA,MAAAhT,GAGA,OAAAiT,EAAAlS,KAAAe,KAAAkR,KAYA,SAAAG,IACAC,GAAAC,IAGAD,GAAA,EACAC,EAAArS,OACAsS,EAAAD,EAAAtL,OAAAuL,GAEAC,GAAA,EAEAD,EAAAtS,QACAwS,KAIA,SAAAA,IACA,IAAAJ,EAAA,CAGA,IAAAK,EAAAd,EAAAQ,GACAC,GAAA,EAGA,IADA,IAAAZ,EAAAc,EAAAtS,OACAwR,GAAA,CAGA,IAFAa,EAAAC,EACAA,OACAC,EAAAf,GACAa,GACAA,EAAAE,GAAAG,MAGAH,GAAA,EACAf,EAAAc,EAAAtS,OAEAqS,EAAA,KACAD,GAAA,EACAL,EAAAU,IAiBA,SAAAE,EAAAf,EAAAgB,GACA9R,KAAA8Q,IAAAA,EACA9Q,KAAA8R,MAAAA,EAYA,SAAAC,KAhKA,IAOAhB,EACAI,EARA5B,EAAAnQ,EAAAJ,YAgBA,WACA,IAEA+R,EADA,mBAAAC,WACAA,WAEAL,EAEA,MAAAzS,GACA6S,EAAAJ,EAEA,IAEAQ,EADA,mBAAAC,aACAA,aAEAR,EAEA,MAAA1S,GACAiT,EAAAP,MAuDA,IAEAW,EAFAC,KACAF,GAAA,EAEAG,GAAA,EAyCAlC,EAAAyC,SAAA,SAAAlB,GACA,IAAAmB,EAAA,IAAAlC,MAAAlO,UAAA3C,OAAA,GACA,GAAA2C,UAAA3C,OAAA,EACA,IAAA,IAAAP,EAAA,EAAAA,EAAAkD,UAAA3C,OAAAP,IACAsT,EAAAtT,EAAA,GAAAkD,UAAAlD,GAGA6S,EAAAtI,KAAA,IAAA2I,EAAAf,EAAAmB,IACA,IAAAT,EAAAtS,QAAAoS,GACAT,EAAAa,IASAG,EAAAxK,UAAAuK,IAAA,WACA5R,KAAA8Q,IAAA3I,MAAA,KAAAnI,KAAA8R,QAEAvC,EAAA2C,MAAA,UACA3C,EAAA4C,SAAA,EACA5C,EAAA6C,OACA7C,EAAA8C,QACA9C,EAAAzJ,QAAA,GACAyJ,EAAA+C,YAIA/C,EAAAgD,GAAAR,EACAxC,EAAAiD,YAAAT,EACAxC,EAAAkD,KAAAV,EACAxC,EAAAmD,IAAAX,EACAxC,EAAAoD,eAAAZ,EACAxC,EAAAqD,mBAAAb,EACAxC,EAAAsD,KAAAd,EACAxC,EAAAuD,gBAAAf,EACAxC,EAAAwD,oBAAAhB,EAEAxC,EAAAyD,UAAA,SAAAvT,GAAA,UAEA8P,EAAA0D,QAAA,SAAAxT,GACA,MAAA,IAAAZ,MAAA,qCAGA0Q,EAAAC,IAAA,WAAA,MAAA,KACAD,EAAA2D,MAAA,SAAA3C,GACA,MAAA,IAAA1R,MAAA,mCAEA0Q,EAAA4D,MAAA,WAAA,OAAA","file":"app.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","\n// import fs from 'fs';\n// import path from 'path';\nimport ejs from 'ejs';\nimport Components from './core/Components';\n\nlet c = new Components();\n\n\n    // let people = ['geddy', 'neil', 'alex'],\n    // html = ejs.render('<%= people.join(\", \"); %>', {people: people});\n\n    // console.log(html,\n    //     path.join(__dirname, './view/test.ejs'),\n    //     __dirname,\n    //     fs.readFile(path.join(__dirname, './view/test.ejs'))\n    // );\n\n// console.log(\n//     fs.readFile('./view/test.ejs')\n// );\n\n// console.log(\n//     fs\n//     // fs.readFileSync('./view/test.ejs', 'utf-8')\n// );\n\n// ejs.renderFile('./view/test.ejs', function (s, e) {\n//     console.log(s, e, '++');\n// });\n\n    ejs.renderFile('/view/test.ejs', {user: {name: '12321'}, name: '89789'}, (err, str) => {\n        console.log(err, str);\n    });\n","\n\nclass Ajax {\n    constructor() {\n        console.log('Ajax');\n    }\n}\n\nexport default Ajax;\n","\nimport Ajax from './Ajax';\nimport Lock from './Lock';\nimport View from './View';\n\nclass Application {\n    constructor() {\n        console.log('Application');\n\n        /**\n         *\n         * @type {Ajax}\n         */\n        this.ajax = new Ajax();\n\n        /**\n         *\n         * @type {Lock}\n         */\n        this.lock = new Lock();\n\n        /**\n         *\n         * @type {View}\n         */\n        this.view = new View();\n    }\n}\n\nexport default Application;\n","\nimport Application from './Application';\n\nclass Components extends Application {\n    constructor() {\n        super();\n        console.log('Components');\n    }\n}\n\nexport default Components;\n","\nclass Lock {\n    constructor() {\n        console.log('Lock');\n    }\n}\n\nexport default Lock;\n","\nclass View {\n    constructor() {\n        console.log('View');\n    }\n}\n\nexport default View;\n","/*\n * EJS Embedded JavaScript templates\n * Copyright 2112 Matthew Eernisse (mde@fleegix.org)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *         http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n*/\n\n'use strict';\n\n/**\n * @file Embedded JavaScript templating engine. {@link http://ejs.co}\n * @author Matthew Eernisse <mde@fleegix.org>\n * @author Tiancheng \"Timothy\" Gu <timothygu99@gmail.com>\n * @project EJS\n * @license {@link http://www.apache.org/licenses/LICENSE-2.0 Apache License, Version 2.0}\n */\n\n/**\n * EJS internal functions.\n *\n * Technically this \"module\" lies in the same file as {@link module:ejs}, for\n * the sake of organization all the private functions re grouped into this\n * module.\n *\n * @module ejs-internal\n * @private\n */\n\n/**\n * Embedded JavaScript templating engine.\n *\n * @module ejs\n * @public\n */\n\nvar fs = require('fs');\nvar path = require('path');\nvar utils = require('./utils');\n\nvar scopeOptionWarned = false;\nvar _VERSION_STRING = require('../package.json').version;\nvar _DEFAULT_DELIMITER = '%';\nvar _DEFAULT_LOCALS_NAME = 'locals';\nvar _NAME = 'ejs';\nvar _REGEX_STRING = '(<%%|%%>|<%=|<%-|<%_|<%#|<%|%>|-%>|_%>)';\nvar _OPTS = ['delimiter', 'scope', 'context', 'debug', 'compileDebug',\n  'client', '_with', 'rmWhitespace', 'strict', 'filename'];\n// We don't allow 'cache' option to be passed in the data obj\n// for the normal `render` call, but this is where Express puts it\n// so we make an exception for `renderFile`\nvar _OPTS_EXPRESS = _OPTS.concat('cache');\nvar _BOM = /^\\uFEFF/;\n\n/**\n * EJS template function cache. This can be a LRU object from lru-cache NPM\n * module. By default, it is {@link module:utils.cache}, a simple in-process\n * cache that grows continuously.\n *\n * @type {Cache}\n */\n\nexports.cache = utils.cache;\n\n/**\n * Custom file loader. Useful for template preprocessing or restricting access\n * to a certain part of the filesystem.\n *\n * @type {fileLoader}\n */\n\nexports.fileLoader = fs.readFileSync;\n\n/**\n * Name of the object containing the locals.\n *\n * This variable is overridden by {@link Options}`.localsName` if it is not\n * `undefined`.\n *\n * @type {String}\n * @public\n */\n\nexports.localsName = _DEFAULT_LOCALS_NAME;\n\n/**\n * Get the path to the included file from the parent file path and the\n * specified path.\n *\n * @param {String}  name     specified path\n * @param {String}  filename parent file path\n * @param {Boolean} isDir    parent file path whether is directory\n * @return {String}\n */\nexports.resolveInclude = function(name, filename, isDir) {\n  var dirname = path.dirname;\n  var extname = path.extname;\n  var resolve = path.resolve;\n  var includePath = resolve(isDir ? filename : dirname(filename), name);\n  var ext = extname(name);\n  if (!ext) {\n    includePath += '.ejs';\n  }\n  return includePath;\n};\n\n/**\n * Get the path to the included file by Options\n *\n * @param  {String}  path    specified path\n * @param  {Options} options compilation options\n * @return {String}\n */\nfunction getIncludePath(path, options){\n  var includePath;\n  if (path.charAt(0) == '/') {\n    includePath = exports.resolveInclude(path.replace(/^\\/*/,''), options.root || '/', true);\n  }\n  else {\n    if (!options.filename) {\n      throw new Error('`include` use relative path requires the \\'filename\\' option.');\n    }\n    includePath = exports.resolveInclude(path, options.filename);\n  }\n  return includePath;\n}\n\n/**\n * Get the template from a string or a file, either compiled on-the-fly or\n * read from cache (if enabled), and cache the template if needed.\n *\n * If `template` is not set, the file specified in `options.filename` will be\n * read.\n *\n * If `options.cache` is true, this function reads the file from\n * `options.filename` so it must be set prior to calling this function.\n *\n * @memberof module:ejs-internal\n * @param {Options} options   compilation options\n * @param {String} [template] template source\n * @return {(TemplateFunction|ClientFunction)}\n * Depending on the value of `options.client`, either type might be returned.\n * @static\n */\n\nfunction handleCache(options, template) {\n  var func;\n  var filename = options.filename;\n  var hasTemplate = arguments.length > 1;\n\n  if (options.cache) {\n    if (!filename) {\n      throw new Error('cache option requires a filename');\n    }\n    func = exports.cache.get(filename);\n    if (func) {\n      return func;\n    }\n    if (!hasTemplate) {\n      template = fileLoader(filename).toString().replace(_BOM, '');\n    }\n  }\n  else if (!hasTemplate) {\n    // istanbul ignore if: should not happen at all\n    if (!filename) {\n      throw new Error('Internal EJS error: no file name or template '\n                    + 'provided');\n    }\n    template = fileLoader(filename).toString().replace(_BOM, '');\n  }\n  func = exports.compile(template, options);\n  if (options.cache) {\n    exports.cache.set(filename, func);\n  }\n  return func;\n}\n\n/**\n * Try calling handleCache with the given options and data and call the\n * callback with the result. If an error occurs, call the callback with\n * the error. Used by renderFile().\n *\n * @memberof module:ejs-internal\n * @param {Options} options    compilation options\n * @param {Object} data        template data\n * @param {RenderFileCallback} cb callback\n * @static\n */\n\nfunction tryHandleCache(options, data, cb) {\n  var result;\n  try {\n    result = handleCache(options)(data);\n  }\n  catch (err) {\n    return cb(err);\n  }\n  return cb(null, result);\n}\n\n/**\n * fileLoader is independent\n *\n * @param {String} filePath ejs file path.\n * @return {String} The contents of the specified file.\n * @static\n */\n\nfunction fileLoader(filePath){\n  return exports.fileLoader(filePath);\n}\n\n/**\n * Get the template function.\n *\n * If `options.cache` is `true`, then the template is cached.\n *\n * @memberof module:ejs-internal\n * @param {String}  path    path for the specified file\n * @param {Options} options compilation options\n * @return {(TemplateFunction|ClientFunction)}\n * Depending on the value of `options.client`, either type might be returned\n * @static\n */\n\nfunction includeFile(path, options) {\n  var opts = utils.shallowCopy({}, options);\n  opts.filename = getIncludePath(path, opts);\n  return handleCache(opts);\n}\n\n/**\n * Get the JavaScript source of an included file.\n *\n * @memberof module:ejs-internal\n * @param {String}  path    path for the specified file\n * @param {Options} options compilation options\n * @return {Object}\n * @static\n */\n\nfunction includeSource(path, options) {\n  var opts = utils.shallowCopy({}, options);\n  var includePath;\n  var template;\n  includePath = getIncludePath(path, opts);\n  template = fileLoader(includePath).toString().replace(_BOM, '');\n  opts.filename = includePath;\n  var templ = new Template(template, opts);\n  templ.generateSource();\n  return {\n    source: templ.source,\n    filename: includePath,\n    template: template\n  };\n}\n\n/**\n * Re-throw the given `err` in context to the `str` of ejs, `filename`, and\n * `lineno`.\n *\n * @implements RethrowCallback\n * @memberof module:ejs-internal\n * @param {Error}  err      Error object\n * @param {String} str      EJS source\n * @param {String} filename file name of the EJS file\n * @param {String} lineno   line number of the error\n * @static\n */\n\nfunction rethrow(err, str, flnm, lineno, esc){\n  var lines = str.split('\\n');\n  var start = Math.max(lineno - 3, 0);\n  var end = Math.min(lines.length, lineno + 3);\n  var filename = esc(flnm); // eslint-disable-line\n  // Error context\n  var context = lines.slice(start, end).map(function (line, i){\n    var curr = i + start + 1;\n    return (curr == lineno ? ' >> ' : '    ')\n      + curr\n      + '| '\n      + line;\n  }).join('\\n');\n\n  // Alter exception message\n  err.path = filename;\n  err.message = (filename || 'ejs') + ':'\n    + lineno + '\\n'\n    + context + '\\n\\n'\n    + err.message;\n\n  throw err;\n}\n\nfunction stripSemi(str){\n  return str.replace(/;(\\s*$)/, '$1');\n}\n\n/**\n * Compile the given `str` of ejs into a template function.\n *\n * @param {String}  template EJS template\n *\n * @param {Options} opts     compilation options\n *\n * @return {(TemplateFunction|ClientFunction)}\n * Depending on the value of `opts.client`, either type might be returned.\n * @public\n */\n\nexports.compile = function compile(template, opts) {\n  var templ;\n\n  // v1 compat\n  // 'scope' is 'context'\n  // FIXME: Remove this in a future version\n  if (opts && opts.scope) {\n    if (!scopeOptionWarned){\n      console.warn('`scope` option is deprecated and will be removed in EJS 3');\n      scopeOptionWarned = true;\n    }\n    if (!opts.context) {\n      opts.context = opts.scope;\n    }\n    delete opts.scope;\n  }\n  templ = new Template(template, opts);\n  return templ.compile();\n};\n\n/**\n * Render the given `template` of ejs.\n *\n * If you would like to include options but not data, you need to explicitly\n * call this function with `data` being an empty object or `null`.\n *\n * @param {String}   template EJS template\n * @param {Object}  [data={}] template data\n * @param {Options} [opts={}] compilation and rendering options\n * @return {String}\n * @public\n */\n\nexports.render = function (template, d, o) {\n  var data = d || {};\n  var opts = o || {};\n\n  // No options object -- if there are optiony names\n  // in the data, copy them to options\n  if (arguments.length == 2) {\n    utils.shallowCopyFromList(opts, data, _OPTS);\n  }\n\n  return handleCache(opts, template)(data);\n};\n\n/**\n * Render an EJS file at the given `path` and callback `cb(err, str)`.\n *\n * If you would like to include options but not data, you need to explicitly\n * call this function with `data` being an empty object or `null`.\n *\n * @param {String}             path     path to the EJS file\n * @param {Object}            [data={}] template data\n * @param {Options}           [opts={}] compilation and rendering options\n * @param {RenderFileCallback} cb callback\n * @public\n */\n\nexports.renderFile = function () {\n  var filename = arguments[0];\n  var cb = arguments[arguments.length - 1];\n  var opts = {filename: filename};\n  var data;\n\n  if (arguments.length > 2) {\n    data = arguments[1];\n\n    // No options object -- if there are optiony names\n    // in the data, copy them to options\n    if (arguments.length === 3) {\n      // Express 4\n      if (data.settings && data.settings['view options']) {\n        utils.shallowCopyFromList(opts, data.settings['view options'], _OPTS_EXPRESS);\n      }\n      // Express 3 and lower\n      else {\n        utils.shallowCopyFromList(opts, data, _OPTS_EXPRESS);\n      }\n    }\n    else {\n      // Use shallowCopy so we don't pollute passed in opts obj with new vals\n      utils.shallowCopy(opts, arguments[2]);\n    }\n\n    opts.filename = filename;\n  }\n  else {\n    data = {};\n  }\n\n  return tryHandleCache(opts, data, cb);\n};\n\n/**\n * Clear intermediate JavaScript cache. Calls {@link Cache#reset}.\n * @public\n */\n\nexports.clearCache = function () {\n  exports.cache.reset();\n};\n\nfunction Template(text, opts) {\n  opts = opts || {};\n  var options = {};\n  this.templateText = text;\n  this.mode = null;\n  this.truncate = false;\n  this.currentLine = 1;\n  this.source = '';\n  this.dependencies = [];\n  options.client = opts.client || false;\n  options.escapeFunction = opts.escape || utils.escapeXML;\n  options.compileDebug = opts.compileDebug !== false;\n  options.debug = !!opts.debug;\n  options.filename = opts.filename;\n  options.delimiter = opts.delimiter || exports.delimiter || _DEFAULT_DELIMITER;\n  options.strict = opts.strict || false;\n  options.context = opts.context;\n  options.cache = opts.cache || false;\n  options.rmWhitespace = opts.rmWhitespace;\n  options.root = opts.root;\n  options.localsName = opts.localsName || exports.localsName || _DEFAULT_LOCALS_NAME;\n\n  if (options.strict) {\n    options._with = false;\n  }\n  else {\n    options._with = typeof opts._with != 'undefined' ? opts._with : true;\n  }\n\n  this.opts = options;\n\n  this.regex = this.createRegex();\n}\n\nTemplate.modes = {\n  EVAL: 'eval',\n  ESCAPED: 'escaped',\n  RAW: 'raw',\n  COMMENT: 'comment',\n  LITERAL: 'literal'\n};\n\nTemplate.prototype = {\n  createRegex: function () {\n    var str = _REGEX_STRING;\n    var delim = utils.escapeRegExpChars(this.opts.delimiter);\n    str = str.replace(/%/g, delim);\n    return new RegExp(str);\n  },\n\n  compile: function () {\n    var src;\n    var fn;\n    var opts = this.opts;\n    var prepended = '';\n    var appended = '';\n    var escapeFn = opts.escapeFunction;\n\n    if (!this.source) {\n      this.generateSource();\n      prepended += '  var __output = [], __append = __output.push.bind(__output);' + '\\n';\n      if (opts._with !== false) {\n        prepended +=  '  with (' + opts.localsName + ' || {}) {' + '\\n';\n        appended += '  }' + '\\n';\n      }\n      appended += '  return __output.join(\"\");' + '\\n';\n      this.source = prepended + this.source + appended;\n    }\n\n    if (opts.compileDebug) {\n      src = 'var __line = 1' + '\\n'\n          + '  , __lines = ' + JSON.stringify(this.templateText) + '\\n'\n          + '  , __filename = ' + (opts.filename ?\n                JSON.stringify(opts.filename) : 'undefined') + ';' + '\\n'\n          + 'try {' + '\\n'\n          + this.source\n          + '} catch (e) {' + '\\n'\n          + '  rethrow(e, __lines, __filename, __line, escapeFn);' + '\\n'\n          + '}' + '\\n';\n    }\n    else {\n      src = this.source;\n    }\n\n    if (opts.debug) {\n      console.log(src);\n    }\n\n    if (opts.client) {\n      src = 'escapeFn = escapeFn || ' + escapeFn.toString() + ';' + '\\n' + src;\n      if (opts.compileDebug) {\n        src = 'rethrow = rethrow || ' + rethrow.toString() + ';' + '\\n' + src;\n      }\n    }\n\n    if (opts.strict) {\n      src = '\"use strict\";\\n' + src;\n    }\n\n    try {\n      fn = new Function(opts.localsName + ', escapeFn, include, rethrow', src);\n    }\n    catch(e) {\n      // istanbul ignore else\n      if (e instanceof SyntaxError) {\n        if (opts.filename) {\n          e.message += ' in ' + opts.filename;\n        }\n        e.message += ' while compiling ejs\\n\\n';\n        e.message += 'If the above error is not helpful, you may want to try EJS-Lint:\\n';\n        e.message += 'https://github.com/RyanZim/EJS-Lint';\n      }\n      throw e;\n    }\n\n    if (opts.client) {\n      fn.dependencies = this.dependencies;\n      return fn;\n    }\n\n    // Return a callable function which will execute the function\n    // created by the source-code, with the passed data as locals\n    // Adds a local `include` function which allows full recursive include\n    var returnedFn = function (data) {\n      var include = function (path, includeData) {\n        var d = utils.shallowCopy({}, data);\n        if (includeData) {\n          d = utils.shallowCopy(d, includeData);\n        }\n        return includeFile(path, opts)(d);\n      };\n      return fn.apply(opts.context, [data || {}, escapeFn, include, rethrow]);\n    };\n    returnedFn.dependencies = this.dependencies;\n    return returnedFn;\n  },\n\n  generateSource: function () {\n    var opts = this.opts;\n\n    if (opts.rmWhitespace) {\n      // Have to use two separate replace here as `^` and `$` operators don't\n      // work well with `\\r`.\n      this.templateText =\n        this.templateText.replace(/\\r/g, '').replace(/^\\s+|\\s+$/gm, '');\n    }\n\n    // Slurp spaces and tabs before <%_ and after _%>\n    this.templateText =\n      this.templateText.replace(/[ \\t]*<%_/gm, '<%_').replace(/_%>[ \\t]*/gm, '_%>');\n\n    var self = this;\n    var matches = this.parseTemplateText();\n    var d = this.opts.delimiter;\n\n    if (matches && matches.length) {\n      matches.forEach(function (line, index) {\n        var opening;\n        var closing;\n        var include;\n        var includeOpts;\n        var includeObj;\n        var includeSrc;\n        // If this is an opening tag, check for closing tags\n        // FIXME: May end up with some false positives here\n        // Better to store modes as k/v with '<' + delimiter as key\n        // Then this can simply check against the map\n        if ( line.indexOf('<' + d) === 0        // If it is a tag\n          && line.indexOf('<' + d + d) !== 0) { // and is not escaped\n          closing = matches[index + 2];\n          if (!(closing == d + '>' || closing == '-' + d + '>' || closing == '_' + d + '>')) {\n            throw new Error('Could not find matching close tag for \"' + line + '\".');\n          }\n        }\n        // HACK: backward-compat `include` preprocessor directives\n        if ((include = line.match(/^\\s*include\\s+(\\S+)/))) {\n          opening = matches[index - 1];\n          // Must be in EVAL or RAW mode\n          if (opening && (opening == '<' + d || opening == '<' + d + '-' || opening == '<' + d + '_')) {\n            includeOpts = utils.shallowCopy({}, self.opts);\n            includeObj = includeSource(include[1], includeOpts);\n            if (self.opts.compileDebug) {\n              includeSrc =\n                  '    ; (function(){' + '\\n'\n                  + '      var __line = 1' + '\\n'\n                  + '      , __lines = ' + JSON.stringify(includeObj.template) + '\\n'\n                  + '      , __filename = ' + JSON.stringify(includeObj.filename) + ';' + '\\n'\n                  + '      try {' + '\\n'\n                  + includeObj.source\n                  + '      } catch (e) {' + '\\n'\n                  + '        rethrow(e, __lines, __filename, __line);' + '\\n'\n                  + '      }' + '\\n'\n                  + '    ; }).call(this)' + '\\n';\n            }else{\n              includeSrc = '    ; (function(){' + '\\n' + includeObj.source +\n                  '    ; }).call(this)' + '\\n';\n            }\n            self.source += includeSrc;\n            self.dependencies.push(exports.resolveInclude(include[1],\n                includeOpts.filename));\n            return;\n          }\n        }\n        self.scanLine(line);\n      });\n    }\n\n  },\n\n  parseTemplateText: function () {\n    var str = this.templateText;\n    var pat = this.regex;\n    var result = pat.exec(str);\n    var arr = [];\n    var firstPos;\n\n    while (result) {\n      firstPos = result.index;\n\n      if (firstPos !== 0) {\n        arr.push(str.substring(0, firstPos));\n        str = str.slice(firstPos);\n      }\n\n      arr.push(result[0]);\n      str = str.slice(result[0].length);\n      result = pat.exec(str);\n    }\n\n    if (str) {\n      arr.push(str);\n    }\n\n    return arr;\n  },\n\n  scanLine: function (line) {\n    var self = this;\n    var d = this.opts.delimiter;\n    var newLineCount = 0;\n\n    function _addOutput() {\n      if (self.truncate) {\n        // Only replace single leading linebreak in the line after\n        // -%> tag -- this is the single, trailing linebreak\n        // after the tag that the truncation mode replaces\n        // Handle Win / Unix / old Mac linebreaks -- do the \\r\\n\n        // combo first in the regex-or\n        line = line.replace(/^(?:\\r\\n|\\r|\\n)/, '');\n        self.truncate = false;\n      }\n      else if (self.opts.rmWhitespace) {\n        // rmWhitespace has already removed trailing spaces, just need\n        // to remove linebreaks\n        line = line.replace(/^\\n/, '');\n      }\n      if (!line) {\n        return;\n      }\n\n      // Preserve literal slashes\n      line = line.replace(/\\\\/g, '\\\\\\\\');\n\n      // Convert linebreaks\n      line = line.replace(/\\n/g, '\\\\n');\n      line = line.replace(/\\r/g, '\\\\r');\n\n      // Escape double-quotes\n      // - this will be the delimiter during execution\n      line = line.replace(/\"/g, '\\\\\"');\n      self.source += '    ; __append(\"' + line + '\")' + '\\n';\n    }\n\n    newLineCount = (line.split('\\n').length - 1);\n\n    switch (line) {\n    case '<' + d:\n    case '<' + d + '_':\n      this.mode = Template.modes.EVAL;\n      break;\n    case '<' + d + '=':\n      this.mode = Template.modes.ESCAPED;\n      break;\n    case '<' + d + '-':\n      this.mode = Template.modes.RAW;\n      break;\n    case '<' + d + '#':\n      this.mode = Template.modes.COMMENT;\n      break;\n    case '<' + d + d:\n      this.mode = Template.modes.LITERAL;\n      this.source += '    ; __append(\"' + line.replace('<' + d + d, '<' + d) + '\")' + '\\n';\n      break;\n    case d + d + '>':\n      this.mode = Template.modes.LITERAL;\n      this.source += '    ; __append(\"' + line.replace(d + d + '>', d + '>') + '\")' + '\\n';\n      break;\n    case d + '>':\n    case '-' + d + '>':\n    case '_' + d + '>':\n      if (this.mode == Template.modes.LITERAL) {\n        _addOutput();\n      }\n\n      this.mode = null;\n      this.truncate = line.indexOf('-') === 0 || line.indexOf('_') === 0;\n      break;\n    default:\n        // In script mode, depends on type of tag\n      if (this.mode) {\n          // If '//' is found without a line break, add a line break.\n        switch (this.mode) {\n        case Template.modes.EVAL:\n        case Template.modes.ESCAPED:\n        case Template.modes.RAW:\n          if (line.lastIndexOf('//') > line.lastIndexOf('\\n')) {\n            line += '\\n';\n          }\n        }\n        switch (this.mode) {\n            // Just executing code\n        case Template.modes.EVAL:\n          this.source += '    ; ' + line + '\\n';\n          break;\n            // Exec, esc, and output\n        case Template.modes.ESCAPED:\n          this.source += '    ; __append(escapeFn(' + stripSemi(line) + '))' + '\\n';\n          break;\n            // Exec and output\n        case Template.modes.RAW:\n          this.source += '    ; __append(' + stripSemi(line) + ')' + '\\n';\n          break;\n        case Template.modes.COMMENT:\n              // Do nothing\n          break;\n            // Literal <%% mode, append as raw output\n        case Template.modes.LITERAL:\n          _addOutput();\n          break;\n        }\n      }\n        // In string mode, just add the output\n      else {\n        _addOutput();\n      }\n    }\n\n    if (self.opts.compileDebug && newLineCount) {\n      this.currentLine += newLineCount;\n      this.source += '    ; __line = ' + this.currentLine + '\\n';\n    }\n  }\n};\n\n/**\n * Escape characters reserved in XML.\n *\n * This is simply an export of {@link module:utils.escapeXML}.\n *\n * If `markup` is `undefined` or `null`, the empty string is returned.\n *\n * @param {String} markup Input string\n * @return {String} Escaped string\n * @public\n * @func\n * */\nexports.escapeXML = utils.escapeXML;\n\n/**\n * Express.js support.\n *\n * This is an alias for {@link module:ejs.renderFile}, in order to support\n * Express.js out-of-the-box.\n *\n * @func\n */\n\nexports.__express = exports.renderFile;\n\n// Add require support\n/* istanbul ignore else */\nif (require.extensions) {\n  require.extensions['.ejs'] = function (module, flnm) {\n    var filename = flnm || /* istanbul ignore next */ module.filename;\n    var options = {\n      filename: filename,\n      client: true\n    };\n    var template = fileLoader(filename).toString();\n    var fn = exports.compile(template, options);\n    module._compile('module.exports = ' + fn.toString() + ';', filename);\n  };\n}\n\n/**\n * Version of EJS.\n *\n * @readonly\n * @type {String}\n * @public\n */\n\nexports.VERSION = _VERSION_STRING;\n\n/**\n * Name for detection of EJS.\n *\n * @readonly\n * @type {String}\n * @public\n */\n\nexports.name = _NAME;\n\n/* istanbul ignore if */\nif (typeof window != 'undefined') {\n  window.ejs = exports;\n}\n","/*\n * EJS Embedded JavaScript templates\n * Copyright 2112 Matthew Eernisse (mde@fleegix.org)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *         http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n*/\n\n/**\n * Private utility functions\n * @module utils\n * @private\n */\n\n'use strict';\n\nvar regExpChars = /[|\\\\{}()[\\]^$+*?.]/g;\n\n/**\n * Escape characters reserved in regular expressions.\n *\n * If `string` is `undefined` or `null`, the empty string is returned.\n *\n * @param {String} string Input string\n * @return {String} Escaped string\n * @static\n * @private\n */\nexports.escapeRegExpChars = function (string) {\n  // istanbul ignore if\n  if (!string) {\n    return '';\n  }\n  return String(string).replace(regExpChars, '\\\\$&');\n};\n\nvar _ENCODE_HTML_RULES = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&#34;',\n  \"'\": '&#39;'\n};\nvar _MATCH_HTML = /[&<>\\'\"]/g;\n\nfunction encode_char(c) {\n  return _ENCODE_HTML_RULES[c] || c;\n}\n\n/**\n * Stringified version of constants used by {@link module:utils.escapeXML}.\n *\n * It is used in the process of generating {@link ClientFunction}s.\n *\n * @readonly\n * @type {String}\n */\n\nvar escapeFuncStr =\n  'var _ENCODE_HTML_RULES = {\\n'\n+ '      \"&\": \"&amp;\"\\n'\n+ '    , \"<\": \"&lt;\"\\n'\n+ '    , \">\": \"&gt;\"\\n'\n+ '    , \\'\"\\': \"&#34;\"\\n'\n+ '    , \"\\'\": \"&#39;\"\\n'\n+ '    }\\n'\n+ '  , _MATCH_HTML = /[&<>\\'\"]/g;\\n'\n+ 'function encode_char(c) {\\n'\n+ '  return _ENCODE_HTML_RULES[c] || c;\\n'\n+ '};\\n';\n\n/**\n * Escape characters reserved in XML.\n *\n * If `markup` is `undefined` or `null`, the empty string is returned.\n *\n * @implements {EscapeCallback}\n * @param {String} markup Input string\n * @return {String} Escaped string\n * @static\n * @private\n */\n\nexports.escapeXML = function (markup) {\n  return markup == undefined\n    ? ''\n    : String(markup)\n        .replace(_MATCH_HTML, encode_char);\n};\nexports.escapeXML.toString = function () {\n  return Function.prototype.toString.call(this) + ';\\n' + escapeFuncStr;\n};\n\n/**\n * Naive copy of properties from one object to another.\n * Does not recurse into non-scalar properties\n * Does not check to see if the property has a value before copying\n *\n * @param  {Object} to   Destination object\n * @param  {Object} from Source object\n * @return {Object}      Destination object\n * @static\n * @private\n */\nexports.shallowCopy = function (to, from) {\n  from = from || {};\n  for (var p in from) {\n    to[p] = from[p];\n  }\n  return to;\n};\n\n/**\n * Naive copy of a list of key names, from one object to another.\n * Only copies property if it is actually defined\n * Does not recurse into non-scalar properties\n *\n * @param  {Object} to   Destination object\n * @param  {Object} from Source object\n * @param  {Array} list List of properties to copy\n * @return {Object}      Destination object\n * @static\n * @private\n */\nexports.shallowCopyFromList = function (to, from, list) {\n  for (var i = 0; i < list.length; i++) {\n    var p = list[i];\n    if (typeof from[p] != 'undefined') {\n      to[p] = from[p];\n    }\n  }\n  return to;\n};\n\n/**\n * Simple in-process cache implementation. Does not implement limits of any\n * sort.\n *\n * @implements Cache\n * @static\n * @private\n */\nexports.cache = {\n  _data: {},\n  set: function (key, val) {\n    this._data[key] = val;\n  },\n  get: function (key) {\n    return this._data[key];\n  },\n  reset: function () {\n    this._data = {};\n  }\n};\n","module.exports={\n  \"_from\": \"ejs\",\n  \"_id\": \"ejs@2.5.6\",\n  \"_inBundle\": false,\n  \"_integrity\": \"sha1-R5Y2v6P+Ox3r1SCH8KyyBLTxnIg=\",\n  \"_location\": \"/ejs\",\n  \"_phantomChildren\": {},\n  \"_requested\": {\n    \"type\": \"tag\",\n    \"registry\": true,\n    \"raw\": \"ejs\",\n    \"name\": \"ejs\",\n    \"escapedName\": \"ejs\",\n    \"rawSpec\": \"\",\n    \"saveSpec\": null,\n    \"fetchSpec\": \"latest\"\n  },\n  \"_requiredBy\": [\n    \"#USER\",\n    \"/\"\n  ],\n  \"_resolved\": \"https://registry.npmjs.org/ejs/-/ejs-2.5.6.tgz\",\n  \"_shasum\": \"479636bfa3fe3b1debd52087f0acb204b4f19c88\",\n  \"_spec\": \"ejs\",\n  \"_where\": \"/var/www/galaxy\",\n  \"author\": {\n    \"name\": \"Matthew Eernisse\",\n    \"email\": \"mde@fleegix.org\",\n    \"url\": \"http://fleegix.org\"\n  },\n  \"bugs\": {\n    \"url\": \"https://github.com/mde/ejs/issues\"\n  },\n  \"bundleDependencies\": false,\n  \"contributors\": [\n    {\n      \"name\": \"Timothy Gu\",\n      \"email\": \"timothygu99@gmail.com\",\n      \"url\": \"https://timothygu.github.io\"\n    }\n  ],\n  \"dependencies\": {},\n  \"deprecated\": false,\n  \"description\": \"Embedded JavaScript templates\",\n  \"devDependencies\": {\n    \"browserify\": \"^13.0.1\",\n    \"eslint\": \"^3.0.0\",\n    \"git-directory-deploy\": \"^1.5.1\",\n    \"istanbul\": \"~0.4.3\",\n    \"jake\": \"^8.0.0\",\n    \"jsdoc\": \"^3.4.0\",\n    \"lru-cache\": \"^4.0.1\",\n    \"mocha\": \"^3.0.2\",\n    \"uglify-js\": \"^2.6.2\"\n  },\n  \"engines\": {\n    \"node\": \">=0.10.0\"\n  },\n  \"homepage\": \"https://github.com/mde/ejs\",\n  \"keywords\": [\n    \"template\",\n    \"engine\",\n    \"ejs\"\n  ],\n  \"license\": \"Apache-2.0\",\n  \"main\": \"./lib/ejs.js\",\n  \"name\": \"ejs\",\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"git://github.com/mde/ejs.git\"\n  },\n  \"scripts\": {\n    \"coverage\": \"istanbul cover node_modules/mocha/bin/_mocha\",\n    \"devdoc\": \"jake doc[dev]\",\n    \"doc\": \"jake doc\",\n    \"lint\": \"eslint \\\"**/*.js\\\" Jakefile\",\n    \"test\": \"mocha\"\n  },\n  \"version\": \"2.5.6\"\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// resolves . and .. elements in a path array with directory names there\n// must be no slashes, empty elements, or device names (c:\\) in the array\n// (so also no leading and trailing slashes - it does not distinguish\n// relative and absolute paths)\nfunction normalizeArray(parts, allowAboveRoot) {\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = parts.length - 1; i >= 0; i--) {\n    var last = parts[i];\n    if (last === '.') {\n      parts.splice(i, 1);\n    } else if (last === '..') {\n      parts.splice(i, 1);\n      up++;\n    } else if (up) {\n      parts.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (allowAboveRoot) {\n    for (; up--; up) {\n      parts.unshift('..');\n    }\n  }\n\n  return parts;\n}\n\n// Split a filename into [root, dir, basename, ext], unix version\n// 'root' is just a slash, or nothing.\nvar splitPathRe =\n    /^(\\/?|)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?|)(\\.[^.\\/]*|))(?:[\\/]*)$/;\nvar splitPath = function(filename) {\n  return splitPathRe.exec(filename).slice(1);\n};\n\n// path.resolve([from ...], to)\n// posix version\nexports.resolve = function() {\n  var resolvedPath = '',\n      resolvedAbsolute = false;\n\n  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n    var path = (i >= 0) ? arguments[i] : process.cwd();\n\n    // Skip empty and invalid entries\n    if (typeof path !== 'string') {\n      throw new TypeError('Arguments to path.resolve must be strings');\n    } else if (!path) {\n      continue;\n    }\n\n    resolvedPath = path + '/' + resolvedPath;\n    resolvedAbsolute = path.charAt(0) === '/';\n  }\n\n  // At this point the path should be resolved to a full absolute path, but\n  // handle relative paths to be safe (might happen when process.cwd() fails)\n\n  // Normalize the path\n  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {\n    return !!p;\n  }), !resolvedAbsolute).join('/');\n\n  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';\n};\n\n// path.normalize(path)\n// posix version\nexports.normalize = function(path) {\n  var isAbsolute = exports.isAbsolute(path),\n      trailingSlash = substr(path, -1) === '/';\n\n  // Normalize the path\n  path = normalizeArray(filter(path.split('/'), function(p) {\n    return !!p;\n  }), !isAbsolute).join('/');\n\n  if (!path && !isAbsolute) {\n    path = '.';\n  }\n  if (path && trailingSlash) {\n    path += '/';\n  }\n\n  return (isAbsolute ? '/' : '') + path;\n};\n\n// posix version\nexports.isAbsolute = function(path) {\n  return path.charAt(0) === '/';\n};\n\n// posix version\nexports.join = function() {\n  var paths = Array.prototype.slice.call(arguments, 0);\n  return exports.normalize(filter(paths, function(p, index) {\n    if (typeof p !== 'string') {\n      throw new TypeError('Arguments to path.join must be strings');\n    }\n    return p;\n  }).join('/'));\n};\n\n\n// path.relative(from, to)\n// posix version\nexports.relative = function(from, to) {\n  from = exports.resolve(from).substr(1);\n  to = exports.resolve(to).substr(1);\n\n  function trim(arr) {\n    var start = 0;\n    for (; start < arr.length; start++) {\n      if (arr[start] !== '') break;\n    }\n\n    var end = arr.length - 1;\n    for (; end >= 0; end--) {\n      if (arr[end] !== '') break;\n    }\n\n    if (start > end) return [];\n    return arr.slice(start, end - start + 1);\n  }\n\n  var fromParts = trim(from.split('/'));\n  var toParts = trim(to.split('/'));\n\n  var length = Math.min(fromParts.length, toParts.length);\n  var samePartsLength = length;\n  for (var i = 0; i < length; i++) {\n    if (fromParts[i] !== toParts[i]) {\n      samePartsLength = i;\n      break;\n    }\n  }\n\n  var outputParts = [];\n  for (var i = samePartsLength; i < fromParts.length; i++) {\n    outputParts.push('..');\n  }\n\n  outputParts = outputParts.concat(toParts.slice(samePartsLength));\n\n  return outputParts.join('/');\n};\n\nexports.sep = '/';\nexports.delimiter = ':';\n\nexports.dirname = function(path) {\n  var result = splitPath(path),\n      root = result[0],\n      dir = result[1];\n\n  if (!root && !dir) {\n    // No dirname whatsoever\n    return '.';\n  }\n\n  if (dir) {\n    // It has a dirname, strip trailing slash\n    dir = dir.substr(0, dir.length - 1);\n  }\n\n  return root + dir;\n};\n\n\nexports.basename = function(path, ext) {\n  var f = splitPath(path)[2];\n  // TODO: make this comparison case-insensitive on windows?\n  if (ext && f.substr(-1 * ext.length) === ext) {\n    f = f.substr(0, f.length - ext.length);\n  }\n  return f;\n};\n\n\nexports.extname = function(path) {\n  return splitPath(path)[3];\n};\n\nfunction filter (xs, f) {\n    if (xs.filter) return xs.filter(f);\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        if (f(xs[i], i, xs)) res.push(xs[i]);\n    }\n    return res;\n}\n\n// String.prototype.substr - negative index don't work in IE8\nvar substr = 'ab'.substr(-1) === 'b'\n    ? function (str, start, len) { return str.substr(start, len) }\n    : function (str, start, len) {\n        if (start < 0) start = str.length + start;\n        return str.substr(start, len);\n    }\n;\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n"]}